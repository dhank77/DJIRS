var ie=Object.create;var $=Object.defineProperty;var pe=Object.getOwnPropertyDescriptor;var ue=Object.getOwnPropertyNames;var ce=Object.getPrototypeOf,le=Object.prototype.hasOwnProperty;var de=(r,a)=>{for(var n in a)$(r,n,{get:a[n],enumerable:!0})},J=(r,a,n,u)=>{if(a&&typeof a=="object"||typeof a=="function")for(let s of ue(a))!le.call(r,s)&&s!==n&&$(r,s,{get:()=>a[s],enumerable:!(u=pe(a,s))||u.enumerable});return r};var Q=(r,a,n)=>(n=r!=null?ie(ce(r)):{},J(a||!r||!r.__esModule?$(n,"default",{value:r,enumerable:!0}):n,r)),fe=r=>J($({},"__esModule",{value:!0}),r);var ye={};de(ye,{Head:()=>X,Link:()=>Z,createInertiaApp:()=>V,router:()=>ge,useForm:()=>W,usePage:()=>q,useRemember:()=>A});module.exports=fe(ye);var se=require("@inertiajs/core");var v=Q(require("react"),1);var z=require("react"),G=(0,z.createContext)(void 0);G.displayName="InertiaHeadContext";var M=G;var me=function({children:r,title:a}){let n=(0,v.useContext)(M),u=(0,v.useMemo)(()=>n.createProvider(),[n]);(0,v.useEffect)(()=>()=>{u.disconnect()},[u]);function s(e){return["area","base","br","col","embed","hr","img","input","keygen","link","meta","param","source","track","wbr"].indexOf(e.type)>-1}function h(e){let c=Object.keys(e.props).reduce((i,P)=>{if(["head-key","children","dangerouslySetInnerHTML"].includes(P))return i;let S=e.props[P];return S===""?i+` ${P}`:i+` ${P}="${S}"`},"");return`<${e.type}${c}>`}function f(e){return typeof e.props.children=="string"?e.props.children:e.props.children.reduce((c,i)=>c+T(i),"")}function T(e){let c=h(e);return e.props.children&&(c+=f(e)),e.props.dangerouslySetInnerHTML&&(c+=e.props.dangerouslySetInnerHTML.__html),s(e)||(c+=`</${e.type}>`),c}function l(e){return v.default.cloneElement(e,{inertia:e.props["head-key"]!==void 0?e.props["head-key"]:""})}function y(e){return T(l(e))}function d(e){let c=v.default.Children.toArray(e).filter(i=>i).map(i=>y(i));return a&&!c.find(i=>i.startsWith("<title"))&&c.push(`<title inertia>${a}</title>`),c}return u.update(d(r)),null},X=me;var R=require("@inertiajs/core"),I=require("react"),C=()=>{},Y=(0,I.forwardRef)(({children:r,as:a="a",data:n={},href:u,method:s="get",preserveScroll:h=!1,preserveState:f=null,replace:T=!1,only:l=[],except:y=[],headers:d={},queryStringArrayFormat:e="brackets",onClick:c=C,onCancelToken:i=C,onBefore:P=C,onStart:S=C,onProgress:L=C,onFinish:k=C,onCancel:B=C,onSuccess:E=C,onError:N=C,...D},H)=>{let b=(0,I.useCallback)(o=>{c(o),(0,R.shouldIntercept)(o)&&(o.preventDefault(),R.router.visit(u,{data:n,method:s,preserveScroll:h,preserveState:f??s!=="get",replace:T,only:l,except:y,headers:d,onCancelToken:i,onBefore:P,onStart:S,onProgress:L,onFinish:k,onCancel:B,onSuccess:E,onError:N}))},[n,u,s,h,f,T,l,y,d,c,i,P,S,L,k,B,E,N]);a=a.toLowerCase(),s=s.toLowerCase();let[t,p]=(0,R.mergeDataIntoQueryString)(s,u||"",n,e);return u=t,n=p,a==="a"&&s!=="get"&&console.warn(`Creating POST/PUT/PATCH/DELETE <a> links is discouraged as it causes "Open Link in New Tab/Window" accessibility issues.

Please specify a more appropriate element using the "as" attribute. For example:

<Link href="${u}" method="${s}" as="button">...</Link>`),(0,I.createElement)(a,{...D,...a==="a"?{href:u}:{},ref:H,onClick:b},r)});Y.displayName="InertiaLink";var Z=Y;var re=require("@inertiajs/core"),oe=require("react");var O=require("@inertiajs/core"),F=require("react");var ee=require("react"),te=(0,ee.createContext)(void 0);te.displayName="InertiaPageContext";var w=te;function j({children:r,initialPage:a,initialComponent:n,resolveComponent:u,titleCallback:s,onHeadUpdate:h}){let[f,T]=(0,F.useState)({component:n||null,page:a,key:null}),l=(0,F.useMemo)(()=>(0,O.createHeadManager)(typeof window>"u",s||(d=>d),h||(()=>{})),[]);if((0,F.useEffect)(()=>{O.router.init({initialPage:a,resolveComponent:u,swapComponent:async({component:d,page:e,preserveState:c})=>{T(i=>({component:d,page:e,key:c?i.key:Date.now()}))}}),O.router.on("navigate",()=>l.forceUpdate())},[]),!f.component)return(0,F.createElement)(M.Provider,{value:l},(0,F.createElement)(w.Provider,{value:f.page},null));let y=r||(({Component:d,props:e,key:c})=>{let i=(0,F.createElement)(d,{key:c,...e});return typeof d.layout=="function"?d.layout(i):Array.isArray(d.layout)?d.layout.concat(i).reverse().reduce((P,S)=>(0,F.createElement)(S,{children:P,...e})):i});return(0,F.createElement)(M.Provider,{value:l},(0,F.createElement)(w.Provider,{value:f.page},y({Component:f.component,key:f.key,props:f.page.props})))}j.displayName="Inertia";async function V({id:r="app",resolve:a,setup:n,title:u,progress:s={},page:h,render:f}){let T=typeof window>"u",l=T?null:document.getElementById(r),y=h||JSON.parse(l.dataset.page),d=i=>Promise.resolve(a(i)).then(P=>P.default||P),e=[],c=await d(y.component).then(i=>n({el:l,App:j,props:{initialPage:y,initialComponent:i,resolveComponent:d,titleCallback:u,onHeadUpdate:T?P=>e=P:null}}));if(!T&&s&&(0,re.setupProgress)(s),T){let i=await f((0,oe.createElement)("div",{id:r,"data-page":JSON.stringify(y)},c));return{head:e,body:i}}}var _=require("@inertiajs/core"),ne=Q(require("lodash.isequal"),1),g=require("react");var K=require("@inertiajs/core"),U=require("react");function A(r,a){let[n,u]=(0,U.useState)(()=>{let s=K.router.restore(a);return s!==void 0?s:r});return(0,U.useEffect)(()=>{K.router.remember(n,a)},[n,a]),[n,u]}function W(r,a){let n=(0,g.useRef)(null),u=typeof r=="string"?r:null,[s,h]=(0,g.useState)((typeof r=="string"?a:r)||{}),f=(0,g.useRef)(null),T=(0,g.useRef)(null),[l,y]=u?A(s,`${u}:data`):(0,g.useState)(s),[d,e]=u?A({},`${u}:errors`):(0,g.useState)({}),[c,i]=(0,g.useState)(!1),[P,S]=(0,g.useState)(!1),[L,k]=(0,g.useState)(null),[B,E]=(0,g.useState)(!1),[N,D]=(0,g.useState)(!1),H=t=>t;(0,g.useEffect)(()=>(n.current=!0,()=>{n.current=!1}),[]);let b=(0,g.useCallback)((t,p,o={})=>{let x={...o,onCancelToken:m=>{if(f.current=m,o.onCancelToken)return o.onCancelToken(m)},onBefore:m=>{if(E(!1),D(!1),clearTimeout(T.current),o.onBefore)return o.onBefore(m)},onStart:m=>{if(S(!0),o.onStart)return o.onStart(m)},onProgress:m=>{if(k(m),o.onProgress)return o.onProgress(m)},onSuccess:m=>{if(n.current&&(S(!1),k(null),e({}),i(!1),E(!0),D(!0),T.current=setTimeout(()=>{n.current&&D(!1)},2e3)),o.onSuccess)return o.onSuccess(m)},onError:m=>{if(n.current&&(S(!1),k(null),e(m),i(!0)),o.onError)return o.onError(m)},onCancel:()=>{if(n.current&&(S(!1),k(null)),o.onCancel)return o.onCancel()},onFinish:()=>{if(n.current&&(S(!1),k(null)),f.current=null,o.onFinish)return o.onFinish()}};t==="delete"?_.router.delete(p,{...x,data:H(l)}):_.router[t](p,H(l),x)},[l,e]);return{data:l,setData(t,p){y(typeof t=="string"?{...l,[t]:p}:typeof t=="function"?o=>t(o):t)},isDirty:!(0,ne.default)(l,s),errors:d,hasErrors:c,processing:P,progress:L,wasSuccessful:B,recentlySuccessful:N,transform(t){H=t},setDefaults(t,p){h(typeof t>"u"?()=>l:o=>({...o,...typeof t=="string"?{[t]:p}:t}))},reset(...t){t.length===0?y(s):y(Object.keys(s).filter(p=>t.includes(p)).reduce((p,o)=>(p[o]=s[o],p),{...l}))},setError(t,p){e(o=>{let x={...o,...typeof t=="string"?{[t]:p}:t};return i(Object.keys(x).length>0),x})},clearErrors(...t){e(p=>{let o=Object.keys(p).reduce((x,m)=>({...x,...t.length>0&&!t.includes(m)?{[m]:p[m]}:{}}),{});return i(Object.keys(o).length>0),o})},submit:b,get(t,p){b("get",t,p)},post(t,p){b("post",t,p)},put(t,p){b("put",t,p)},patch(t,p){b("patch",t,p)},delete(t,p){b("delete",t,p)},cancel(){f.current&&f.current.cancel()}}}var ae=require("react");function q(){let r=(0,ae.useContext)(w);if(!r)throw new Error("usePage must be used within the Inertia component");return r}var ge=se.router;
//# sourceMappingURL=index.js.map
